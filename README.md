# Version

[A plugin for Typecho Blog Platform(一款Typecho博客平台的插件)](https://github.com/innc11/Version)

对文章增加简单的历史记录功能(包括文章和独立页面)，点击保存或者发布时就会被记录下来，可以通过编辑界面右侧的选项卡进行切换(位于**选项**和**附件**的旁边)

## 使用说明

1. 将放在插件目录中，确保文件夹名为 `Version`
2. 在管理页面启用插件

### 记录

插件会自动记录文章和独立页面修改，点击**保存草稿**和**发布文章**时都会被记录，无需手动操作，另外每十分钟的自动保存版本会以蓝色字体出现，此版本的标签不可编辑，且在手动点击**保存草稿**和**发布文章**时会被自动删除（此功能可配置）

### 回退

1. 在文章编辑页点击右侧选项卡进行切换到历史版本窗口
2. 点击某个时间点可以进行回滚、预览和删除

### 删除

可以在"历史版本"界面手动删除，或当文章被删除时，所有的记录也会一起被删除

### 标签

1.2版本开始可以给每一个历史版本添加一个标签便于记忆，标签直接编辑即可，按Enter或者失去焦点后会自动保存

## 注意事项

1. 只能记录插件安装之后的修改记录
3. 回退文章内容时页面会刷新并覆盖掉编辑器的内容

## 图片

![overview](https://res.innc11.cn/pictures/version/20200728195908.png)

![overview2](https://res.innc11.cn/pictures/version/20200728200630.png)

## 版本历史

特别说明：1.0、1.1、11.2、1.2.1版本之间互不兼容(因为改动挺大的)

- 1.0 (20-7-25)
  - 首次发布
- 1.1 (20-7-25)
  - 支持预览功能
  - 优化部分代码
  - 修复一个草稿相关的问题
- 1.2 (20-7-26)
  - 支持版本标签功能
  - 修改界面样式和说明文字
- 1.2.1 (20-7-26)
  - 删除文章时会一起删除所有相关的记录
- 1.2.2 (20-7-26)
  - 解决重复保存的问题
- 1.3 (20-7-28)
  - 可配置是否删除自动保存版本
  - 优化部分代码
  - 使用新的预览界面
  - 完善一些注释
  - 规范化一些文件名

## 代码参考

1. [Typecho项目](https://github.com/typecho/typecho)
2. [Access访问记录插件](https://github.com/kokororin/typecho-plugin-Access)
2. [Link友链插件](http://www.imhan.com/archives/typecho-links)
3. [EditorMD编辑器插件](https://dt27.org/php/editormd-for-typecho)
